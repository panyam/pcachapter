<svg width="850" height="380" viewBox="0 0 850 380" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="streamGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:0.2" />
    </linearGradient>
    <linearGradient id="bufferGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:0.2" />
    </linearGradient>
    <linearGradient id="pcaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:0.2" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="425" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">
    Incremental PCA with Streaming Windows (Real-Time Analysis)
  </text>
  
  <!-- Sensor Stream -->
  <g>
    <rect x="50" y="70" width="200" height="140" fill="url(#streamGrad)" stroke="#667eea" stroke-width="2" rx="12"/>
    <text x="150" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Sensor Stream</text>
    
    <g font-family="Arial, sans-serif" font-size="11" fill="#555">
      <text x="65" y="120">• 15-min batch arrivals</text>
      <text x="65" y="135">• 20 sensors per batch</text>
      <text x="65" y="150">• JSON format</text>
      <text x="65" y="165">• Event-driven triggers</text>
      <text x="65" y="180">• Continuous flow</text>
      <text x="65" y="195">• Real-time sensor data</text>
    </g>
  </g>
  
  <!-- Windowed Buffer -->
  <g>
    <rect x="325" y="70" width="200" height="140" fill="url(#bufferGrad)" stroke="#f5576c" stroke-width="2" rx="12"/>
    <text x="425" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Windowed Buffer</text>
    
    <g font-family="Arial, sans-serif" font-size="11" fill="#555">
      <text x="340" y="120">• 4-hour sliding window</text>
      <text x="340" y="135">• 16 batches capacity</text>
      <text x="340" y="150">• Sliding overlap</text>
      <text x="340" y="165">• Memory-efficient FIFO</text>
      <text x="340" y="180">• Maintains recent context</text>
      <text x="340" y="195">• Automatic eviction</text>
    </g>
  </g>
  
  <!-- Incremental PCA -->
  <g>
    <rect x="600" y="70" width="200" height="140" fill="url(#pcaGrad)" stroke="#00f2fe" stroke-width="2" rx="12"/>
    <text x="700" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Incremental PCA</text>
    
    <g font-family="Arial, sans-serif" font-size="11" fill="#555">
      <text x="615" y="120">• Update eigenvectors</text>
      <text x="615" y="135">• Preserve variance ratios</text>
      <text x="615" y="150">• Stream results</text>
      <text x="615" y="165">• Mathematical stability</text>
      <text x="615" y="180">• Real-time anomaly detection</text>
      <text x="615" y="195">• Continuous insights</text>
    </g>
  </g>
  
  <!-- Flow arrows -->
  <g>
    <path d="M 250 140 L 315 140" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
    <path d="M 525 140 L 590 140" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- Streaming Window Visualization -->
  <g>
    <rect x="50" y="240" width="750" height="80" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="8"/>
    <text x="425" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">
      Sliding Window Timeline (4-Hour Window with 15-min Batches)
    </text>
    
    <!-- Time slots -->
    <g font-family="Arial, sans-serif" font-size="10">
      <!-- Current window -->
      <rect x="80" y="270" width="480" height="20" fill="#e3f2fd" stroke="#2196f3" stroke-width="1" rx="3"/>
      <text x="320" y="283" text-anchor="middle" fill="#1976d2">Current 4-Hour Window (16 batches)</text>
      
      <!-- Individual batches -->
      <rect x="80" y="295" width="30" height="15" fill="#4caf50" stroke="#fff" stroke-width="1"/>
      <text x="95" y="305" text-anchor="middle" font-size="8" fill="#fff">B1</text>
      
      <rect x="110" y="295" width="30" height="15" fill="#4caf50" stroke="#fff" stroke-width="1"/>
      <text x="125" y="305" text-anchor="middle" font-size="8" fill="#fff">B2</text>
      
      <rect x="140" y="295" width="30" height="15" fill="#4caf50" stroke="#fff" stroke-width="1"/>
      <text x="155" y="305" text-anchor="middle" font-size="8" fill="#fff">B3</text>
      
      <!-- ... More batches indicated by dots -->
      <text x="200" y="305" text-anchor="middle" fill="#666">...</text>
      
      <rect x="500" y="295" width="30" height="15" fill="#4caf50" stroke="#fff" stroke-width="1"/>
      <text x="515" y="305" text-anchor="middle" font-size="8" fill="#fff">B16</text>
      
      <!-- New incoming batch -->
      <rect x="580" y="295" width="30" height="15" fill="#ff9800" stroke="#fff" stroke-width="1"/>
      <text x="595" y="305" text-anchor="middle" font-size="8" fill="#fff">NEW</text>
      
      <!-- Evicted batch -->
      <rect x="50" y="295" width="30" height="15" fill="#f44336" stroke="#fff" stroke-width="1"/>
      <text x="65" y="305" text-anchor="middle" font-size="8" fill="#fff">OLD</text>
      
      <!-- Arrows showing movement -->
      <path d="M 70 302 L 75 302" stroke="#f44336" stroke-width="2" marker-end="url(#evictArrow)"/>
      <path d="M 575 302 L 580 302" stroke="#ff9800" stroke-width="2" marker-end="url(#newArrow)"/>
    </g>
  </g>
  
  <!-- Maya's Application Example -->
  <g>
    <rect x="50" y="330" width="750" height="35" fill="#fff3e0" stroke="#ff9800" stroke-width="1" rx="5"/>
    <text x="425" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">
      Maya's Use Case: Real-Time Equipment Failure Detection
    </text>
    <text x="425" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">
      "Detected identical temperature readings across all sensors → Equipment failure alert in 5 minutes instead of monthly analysis"
    </text>
  </g>
  
  <!-- Multi-cloud services note at bottom -->
  <rect x="50" y="350" width="750" height="20" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="3"/>
  <text x="425" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-style="italic" fill="#666">
    Streaming: GCP (Dataflow), AWS (Kinesis Analytics), Azure (Stream Analytics) + Functions for incremental computation
  </text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
    <marker id="evictArrow" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
      <polygon points="0 0, 6 2, 0 4" fill="#f44336"/>
    </marker>
    <marker id="newArrow" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
      <polygon points="0 0, 6 2, 0 4" fill="#ff9800"/>
    </marker>
  </defs>
</svg>